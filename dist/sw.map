{"version":3,"sources":["sw.js"],"names":["frontendAddress","cacheName","filesToCache","self","addEventListener","e","waitUntil","caches","open","then","cache","addAll","keys","keyList","Promise","all","map","key","delete","clients","claim","request","method","navigator","onLine","Error","respondWith","match","response","fetch","event","console","log","data","text","notification","JSON","parse","title","options","body","icon","badge","registration","showNotification","smug","replace","close","openWindow"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,eAAe,GAAG,0BAAxB;AACA,IAAMC,SAAS,GAAG,UAAlB;AAEA,IAAIC,YAAY,GAAG,CACjB,GADiB,CAAnB;AAIAC,IAAI,CAACC,gBAAL,CAAsB,SAAtB,EAAiC,UAACC,CAAD,EAAO;AACtCA,EAAAA,CAAC,CAACC,SAAF,CACEC,MAAM,CAACC,IAAP,CAAYP,SAAZ,EAAuBQ,IAAvB,CAA4B,UAAAC,KAAK;AAAA,WAAIA,KAAK,CAACC,MAAN,CAAaT,YAAb,CAAJ;AAAA,GAAjC,CADF;AAGD,CAJD;AAMAC,IAAI,CAACC,gBAAL,CAAsB,UAAtB,EAAkC,UAACC,CAAD,EAAO;AACvCA,EAAAA,CAAC,CAACC,SAAF,CACEC,MAAM,CAACK,IAAP,GAAcH,IAAd,CAAmB,UAAAI,OAAO;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACG,GAAR,CAAY,UAACC,GAAD,EAAS;AAC7D,UAAIA,GAAG,KAAKhB,SAAZ,EAAuB;AACrB,eAAOM,MAAM,CAACW,MAAP,CAAcD,GAAd,CAAP;AACD;AACF,KAJyC,CAAZ,CAAJ;AAAA,GAA1B,CADF;AAOA,SAAOd,IAAI,CAACgB,OAAL,CAAaC,KAAb,EAAP;AACD,CATD;AAWAjB,IAAI,CAACC,gBAAL,CAAsB,OAAtB,EAA+B,UAACC,CAAD,EAAO;AACpC,MAAI,CAACA,CAAC,CAACgB,OAAF,CAAUC,MAAV,KAAqB,KAArB,IAA8BjB,CAAC,CAACgB,OAAF,CAAUC,MAAV,KAAqB,MAApD,KAA+D,UAAUC,SAAS,CAACC,MAAvF,EAA+F;AAC7F,QAAIC,KAAJ,CAAU,2BAAV;AACD,GAFD,MAEOpB,CAAC,CAACqB,WAAF,CAAcnB,MAAM,CAACoB,KAAP,CAAatB,CAAC,CAACgB,OAAf,EAAwBZ,IAAxB,CAA6B,UAAAmB,QAAQ;AAAA,WAAIA,QAAQ,IAAIC,KAAK,CAACxB,CAAC,CAACgB,OAAH,CAArB;AAAA,GAArC,CAAd;AACR,CAJD;AAMAlB,IAAI,CAACC,gBAAL,CAAsB,MAAtB,EAA8B,UAAC0B,KAAD,EAAW;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,kDAAqDF,KAAK,CAACG,IAAN,CAAWC,IAAX,EAArD;AAEA,MAAIC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWP,KAAK,CAACG,IAAN,CAAWC,IAAX,EAAX,CAAnB;AAEA,MAAMI,KAAK,GAAGH,YAAY,CAACG,KAA3B;AACA,MAAMC,OAAO,GAAG;AACdC,IAAAA,IAAI,EAAEL,YAAY,CAACD,IADL;AAEdO,IAAAA,IAAI,EAAE,iBAFQ;AAGdC,IAAAA,KAAK,EAAE;AAHO,GAAhB;AAMAvC,EAAAA,IAAI,CAACwC,YAAL,CAAkBC,gBAAlB,CAAmCN,KAAnC,EAA0CC,OAA1C;AACD,CAdD;AAgBApC,IAAI,CAACC,gBAAL,CAAsB,mBAAtB,EAA2C,UAAC0B,KAAD,EAAW;AACpD,MAAIe,IAAI,GAAGf,KAAK,CAACK,YAAN,CAAmBG,KAAnB,CAAyBQ,OAAzB,CAAiC,IAAjC,EAAuC,GAAvC,CAAX;AAEAhB,EAAAA,KAAK,CAACK,YAAN,CAAmBY,KAAnB;AACA5B,EAAAA,OAAO,CAAC6B,UAAR,WAAsBhD,eAAtB,qBAAgD6C,IAAhD;AACD,CALD","file":"sw.map","sourceRoot":"..\\site","sourcesContent":["const frontendAddress = \"http://localhost:1234/#/\"\r\nconst cacheName = 'bz-cache';\r\n\r\nlet filesToCache = [\r\n  \"/\",\r\n];\r\n\r\nself.addEventListener('install', (e) => {\r\n  e.waitUntil(\r\n    caches.open(cacheName).then(cache => cache.addAll(filesToCache))\r\n  );\r\n});\r\n\r\nself.addEventListener('activate', (e) => {\r\n  e.waitUntil(\r\n    caches.keys().then(keyList => Promise.all(keyList.map((key) => {\r\n      if (key !== cacheName) {\r\n        return caches.delete(key);\r\n      }\r\n    })))\r\n  );\r\n  return self.clients.claim();\r\n});\r\n\r\nself.addEventListener('fetch', (e) => {\r\n  if ((e.request.method === \"PUT\" || e.request.method === \"POST\") && false === navigator.onLine) {\r\n    new Error('No internet connectivity!');\r\n  } else e.respondWith(caches.match(e.request).then(response => response || fetch(e.request)))\r\n});\r\n\r\nself.addEventListener('push', (event) => {\r\n  console.log('[Service Worker] Push Received.');\r\n  console.log(`[Service Worker] Push had this data: \"${event.data.text()}\"`);\r\n\r\n  let notification = JSON.parse(event.data.text())\r\n\r\n  const title = notification.title;\r\n  const options = {\r\n    body: notification.text,\r\n    icon: 'icon512x512.png',\r\n    badge: 'icon192x192.png'\r\n  };\r\n\r\n  self.registration.showNotification(title, options);\r\n});\r\n\r\nself.addEventListener('notificationclick', (event) => {\r\n  let smug = event.notification.title.replace(/ /g, '-')\r\n\r\n  event.notification.close();\r\n  clients.openWindow(`${frontendAddress}article/${smug}`)\r\n});"]}